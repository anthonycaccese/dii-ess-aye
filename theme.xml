<?xml version="1.0" encoding="UTF-8"?>
<theme defaultTransition="instant">
    <formatVersion>7</formatVersion>

    <!--
        Display: 1280x480 (two 640x480 screens horizontally spanned)
        Top screen (left): X 0-0.5, center X=0.25
        Bottom screen (right): X 0.5-1.0, center X=0.75
    -->

    <!--
    ///
    Subset: Aspect Ratio
    ///
    -->
    <subset name="aspect-ratio" displayName="Aspect Ratio">
        <include if="${screen.width} == '1280' && ${screen.height} == '480'" name="dual-screen-rgds-auto" displayName="Automatic" />
        <include if="{screen.ratio} == '4/3'" name="4-3-auto" displayName="Automatic" />
        <include name="dual-screen-rgds" displayName="Dual Screen (RGDS)" />
        <include name="4-3" displayName="4:3" />
    </subset>

    <!--
    ///
    View: Screen
    ///
    -->
    <view name="screen">
        <!-- Visibility override -->
        <controllerActivity name="controllerActivity">
            <visible>false</visible>
        </controllerActivity>
    </view>

    <!--
    ///
    View: All
    ///
    -->
    <view name="system, gamecarousel">

        <!-- Both screens -->
        <image name="background" extra="true">
            <pos>0 0</pos>
            <size>1 1</size>
            <path>./assets/images/common/background.png</path>
            <zIndex>0</zIndex>
        </image>

        <!-- Top screen (X 0-0.5) -->
        <image name="left_tab_image" extra="true">
            <path>./assets/images/common/left_tab.png</path>
            <zIndex>1</zIndex>
        </image>

        <text name="left_tab_text" extra="true">
            <text>Prev</text>
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
            <fontSize>0.05</fontSize>
            <color>333333FF</color>
            <alignment>left</alignment>
            <zIndex>2</zIndex>
        </text>

        <image name="right_tab_image" extra="true">
            <path>./assets/images/common/right_tab.png</path>
            <zIndex>1</zIndex>
        </image>

        <text name="right_tab_text" extra="true">
            <text>Next</text>
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
            <fontSize>0.05</fontSize>
            <color>333333FF</color>
            <alignment>right</alignment>
            <zIndex>2</zIndex>
        </text>

        <!-- Bottom screen (X 0.5-1.0) -->
        <image name="text_bubble" extra="true">
            <path>./assets/images/common/text_bubble.png</path>
            <zIndex>56</zIndex>
        </image>

        <image name="start_window" extra="true">
            <path>./assets/images/common/start_window.png</path>
            <zIndex>55</zIndex>
        </image>

        <image name="menu_slot0" extra="true">
            <path>./assets/images/common/menu_slot.png</path>
            <zIndex>49</zIndex>            
        </image>

        <image name="menu_slot1" extra="true">
            <path>./assets/images/common/menu_slot.png</path>
            <zIndex>49</zIndex>            
        </image>

        <image name="menu_slot2" extra="true">
            <path>./assets/images/common/menu_slot.png</path>
            <zIndex>49</zIndex>            
        </image>

        <image name="menu_slot3" extra="true">
            <path>./assets/images/common/menu_slot.png</path>
            <zIndex>49</zIndex>            
        </image>

        <image name="menu_slot4" extra="true">
            <path>./assets/images/common/menu_slot.png</path>
            <zIndex>49</zIndex>            
        </image>

        <image name="scroll_bar" extra="true">
            <path>./assets/images/common/scroll_bar.png</path>
            <zIndex>1</zIndex>
        </image>

        <!-- Visibility override -->
        <helpsystem name="help">
            <textColor>00000000</textColor>
            <iconColor>00000000</iconColor>
        </helpsystem>
    </view>

    <!--
    ///
    View: System
    ///
    -->
    <view name="system">
        <!-- Both screens -->
        <sound name="launch">
            <path>./assets/sounds/select.wav</path>
        </sound>

        <!-- Top screen (X 0-0.5) -->
        <image name="distro_logo" extra="true">
            <path>./assets/images/common/distro_logo.png</path>
            <zIndex>1</zIndex>
        </image>

        <!-- Bottom screen (X 0.5-1.0) -->
        <carousel name="systemcarousel">
            <type>horizontal</type>
            <color>00000000</color>
            <zIndex>50</zIndex>
            <defaultTransition>instant</defaultTransition>
            <transitionSpeed>0</transitionSpeed>
            <scrollSound>./assets/sounds/scroll.wav</scrollSound>
            <minLogoOpacity>1</minLogoOpacity>
            <systemInfoDelay>0</systemInfoDelay>
        </carousel>

        <text name="logoText">
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
            <forceUppercase>true</forceUppercase>
            <fontSize>0.03</fontSize>
            <storyboard>
                <animation event="scroll" property="scale"/>
            </storyboard>
        </text>

        <text name="systemName" extra="true">
            <text>{system:fullName}</text>
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
            <fontSize>0.04</fontSize>
            <color>333333FF</color>
            <alignment>center</alignment>
            <zIndex>57</zIndex>
        </text>

        <text name="systemInfo">
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
            <fontSize>0.025</fontSize>
            <color>333333FF</color>
            <alignment>center</alignment>
            <zIndex>53</zIndex>
        </text>

        <image name="logo">
            <path>./assets/images/systems/default.png</path>
            <path>./assets/images/systems/${system.theme}.png</path>
            <storyboard>
                <animation event="scroll" property="scale"/>
            </storyboard>
        </image>

    </view>

    <!--
    ///
    View: Gamelist
    ///
    -->
    <view name="gamecarousel">
        <!-- Both screens -->
        <sound name="launch">
            <path>./assets/sounds/launch.wav</path>
        </sound>
        <sound name="back">
            <path>./assets/sounds/back.wav</path>
        </sound>

        <!-- Top screen (X 0-0.5) -->
        <image name="preview_panel" extra="true">
            <path>./assets/images/common/preview_panel.png</path>
            <zIndex>1</zIndex>
        </image>

        <video name="md_video">
            <delay>3</delay>
            <showSnapshotNoVideo>true</showSnapshotNoVideo>
            <showSnapshotDelay>true</showSnapshotDelay>
            <snapshotSource>image</snapshotSource>
            <zIndex>2</zIndex>
        </video>

        <text name="logoText">
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
        </text>

        <!-- Bottom screen (X 0.5-1.0) -->
        <gamecarousel name="gamecarousel">
            <type>horizontal</type>
            <color>00000000</color>
            <zIndex>50</zIndex>
            <defaultTransition>instant</defaultTransition>
            <transitionSpeed>0</transitionSpeed>
            <scrollSound>./assets/sounds/scroll.wav</scrollSound>
            <minLogoOpacity>1</minLogoOpacity>
            <imageSource>image</imageSource>
        </gamecarousel>

        <text name="md_name">
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
            <fontSize>0.04</fontSize>
            <color>333333FF</color>
            <alignment>center</alignment>
            <zIndex>57</zIndex>
        </text>

        <text name="md_description">
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
            <fontSize>0.03</fontSize>
            <color>555555FF</color>
            <alignment>center</alignment>
            <zIndex>57</zIndex>
        </text>

        <image name="gamecarouselLogo">
            <storyboard>
                <animation event="scroll" property="scale"/>
            </storyboard>
        </image>

        <text name="gamecarouselLogoText">
            <fontPath>./assets/fonts/dsi_font.otf</fontPath>
            <forceUppercase>true</forceUppercase>
            <fontSize>0.03</fontSize>
            <storyboard>
                <animation event="scroll" property="scale"/>
            </storyboard>
        </text>
        
    </view>

   <!--
   ///
   Include: Aspect Ratios
   ///
   -->
   <include ifSubset="aspect-ratio:dual-screen-rgds|dual-screen-rgds-auto">./aspect-ratio-dual-screen-rgds.xml</include>
   <include ifSubset="aspect-ratio:4-3|4-3-auto">./aspect-ratio-4-3.xml</include>

</theme>